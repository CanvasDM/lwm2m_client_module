#
# Copyright (c) 2022 Laird Connectivity LLC
#
# SPDX-License-Identifier: LicenseRef-LairdConnectivity-Clause
#
menuconfig LCZ_LWM2M_CLIENT
	bool "LCZ LwM2M Client"
	depends on LCZ_LWM2M

if LCZ_LWM2M_CLIENT

module=LCZ_LWM2M_CLIENT
module-str=LCZ_LWM2M_CLIENT
source "subsys/logging/Kconfig.template.log_config"

config LCZ_LWM2M_CLIENT_INIT_PRIORITY
    int "Init priority Application for LwM2M client module"
    range 0 99
    default APPLICATION_INIT_PRIORITY
    help
      Recommended to be higher than main thread init priority.

config LCZ_LWM2M_CLIENT_ENDPOINT_NAME
	string "Endpoint name"
	default "my_device"
	help
	  Endpoint name used by the application for starting a connection.

config LCZ_LWM2M_CLIENT_REBOOT_DELAY_SECONDS
	int "Delay before reboot (seconds)"
	default 5
	help
	  If the user does not override the reboot callback
	  (lcz_lwm2m_client_register_reboot_callback), this is the delay
	  used before a reboot is initiated.

config LCZ_LWM2M_CLIENT_ENABLE_ATTRIBUTES
	bool "Enable attributes"
	depends on ATTR
	help
	  Enable attributes system for LwM2M client settings.

choice
	prompt "Client init mode"
	default LCZ_LWM2M_CLIENT_INIT_KCONFIG

config LCZ_LWM2M_CLIENT_INIT_KCONFIG
	bool "Kconfig"
	help
	  Use Kconfig settings to init client.

config LCZ_LWM2M_CLIENT_INIT_ATTRIBUTES
	bool "Attributes"
	depends on ATTR
	select LCZ_LWM2M_CLIENT_ENABLE_ATTRIBUTES
	help
	  Use attributes system to init client.

endchoice

if LCZ_LWM2M_CLIENT_INIT_KCONFIG

if LCZ_LWM2M_TRANSPORT_UDP

config LCZ_LWM2M_SERVER_URL
	string "Server URL"
	default "coap://lwm2m.com"

config LCZ_LWM2M_SECURITY_MODE
	int "Security mode"
	range 0 4
	default 3
	help
	  0 - PSK
	  1 - RPK
	  2 - Certificate
	  3 - No Security
	  4 - Certificate with EST

config LCZ_LWM2M_TLS_TAG
	int "TLS tag for secure connection"
	depends on LCZ_LWM2M_DTLS_SUPPORT
	default 999
	range 0 65535

config LCZ_LWM2M_PSK_ID
	string "PSK ID"
	default "my_psk"
	help
	  Pre-shared key identity

config LCZ_LWM2M_PSK
	string "PSK"
	default "000102030405060708090a0b0c0d0e0f"
	help
	  PSK as a HEX string. This string will be converted to binary and
	  used as the PSK.
	  Length of this string needs to be LCZ_LWM2M_SECURITY_KEY_SIZE.

endif # LCZ_LWM2M_TRANSPORT_UDP

config LCZ_LWM2M_BOOTSTRAP_SETTING
	int "Bootstrap setting"
	range 0 1
	default 0
	help
	  0 - disabled
	  1 - enabled

config LCZ_LWM2M_SHORT_SERVER_ID
	int "Short server ID"
	range 1 65534
	default 1

endif # LCZ_LWM2M_CLIENT_INIT_KCONFIG

endif # LCZ_LWM2M_CLIENT
